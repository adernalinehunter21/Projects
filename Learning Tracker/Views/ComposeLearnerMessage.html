{% extends "base.html" %}
{% block title %}Message Notifications{% endblock %}

{% block head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css">
<link rel="stylesheet" href="../../css/GenericStyles.css" />
<link rel="stylesheet" href="../../css/MessageDisplay.css" />

{% endblock %}

{% block body %}
<script>
    var today = new Date();
    var s3Details4fileUpload = JSON.parse('{{ s3_details_4_attachment_upload | json_encode() | raw}}');
    var attachmentFilePrefix =JSON.parse('{{ attachment_file_prefix | json_encode() | raw}}'); 
    var attachedFiles = [];
</script>
<div  course_id ="{{course_id}}" id = "course_id"></div>
<div id ="ComposeLearnerMessage" class="ml-5 mr-4 mb-4 message-grey">
  <div class="row back-button " title = "Back to inbox" >
        <a id = "back" href="/Message/new" >
            <i class="fas fa-arrow-left fa-lg "></i>
        </a>
  </div>
        <label class="modal-supportRequest mb-2"> <i class="far fa-address-card mr-1"></i>To:</label>
          <select id="list" name="receipient" class = "selectpicker" multiple   data-none-selected-text="Select receipients">
          </select>
              <br>
          <label class="modal-supportRequest mt-2"><i class="far fa-edit "></i> Subject: </label>
          <input type="text" id="subject" class ="subject" name="subject" required>
              <br>
          <label for="message" class=" mt-2"><i class="far fa-envelope "></i>Message: </label>
          <div id="editor-container" class="form-control " style="height: 250px; border-radius:0px;"></div>
                <div id="message-attachments">
                  <ul id="uploaded-file-list" >
                  </ul>
          </div>
                <div id="upload-new-attachment" class="row no-gutters">
                      <div class="col col-md-10 upload-new mt-1 " >
                          <button class="btn  border rounded border-light lightgray-button" type="button" title ="Click to attach files" onclick="initiateFileUploadModal(s3Details4fileUpload, attachmentFilePrefix, attachmentUploadComplete)">
                              <i class="fa fa-paperclip"></i>
                              <span id=""> Attachments</span>
                            </button>
                            </div>
                          </div>
                <div class="row">
                  <div class="mt-1 col-md-11 offset-md-11">
                    <button class="btn btn-dasa form_submit"  type="submit" value="Submit"  onclick="sendLearnerMessage()"  id="ComposeMessage" style="color:#ffffff" >Submit</button>
                  </div>
                </div>
              </div>
</div>

{% endblock %}

{% block bodyBottomInclusions %}
<script type="text/javascript" src="../../js/ComposeLearnerMessages3.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/js/bootstrap-select.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.js"></script>
<script type="text/javascript" src="../../js/facilitatorUtils.js"></script>
<script type="text/javascript" src="../../js/richText.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.5.7/jquery.fileupload.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.js"></script>
<script src="../../js/genericFileUploadV2.js"></script>


{% endblock %}
